var t=require("http"),e=require("https"),{https:r,http:n}=require("follow-redirects"),{parse:o}=require("url"),{createUnzip:a}=require("zlib");function s(t){return t&&t.__esModule?t.default:t}var i="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},c={},u={},l=i.parcelRequireae0f;null==l&&((l=function(t){if(t in c)return c[t].exports;if(t in u){let e=u[t];delete u[t];let r={id:t,exports:{}};return c[t]=r,e.call(r.exports,r,r.exports),r.exports}var e=new Error("Cannot find module '"+t+"'");throw e.code="MODULE_NOT_FOUND",e}).register=function(t,e){u[t]=e},i.parcelRequireae0f=l);var d=function(t){var e,r=Object.prototype,n=r.hasOwnProperty,o="function"==typeof Symbol?Symbol:{},a=o.iterator||"@@iterator",s=o.asyncIterator||"@@asyncIterator",i=o.toStringTag||"@@toStringTag";function c(t,e,r){return Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{c({},"")}catch(t){c=function(t,e,r){return t[e]=r}}function u(t,e,r,n){var o=e&&e.prototype instanceof g?e:g,a=Object.create(o.prototype),s=new R(n||[]);return a._invoke=function(t,e,r){var n=d;return function(o,a){if(n===p)throw new Error("Generator is already running");if(n===h){if("throw"===o)throw a;return O()}for(r.method=o,r.arg=a;;){var s=r.delegate;if(s){var i=E(s,r);if(i){if(i===m)continue;return i}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if(n===d)throw n=h,r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n=p;var c=l(t,e,r);if("normal"===c.type){if(n=r.done?h:f,c.arg===m)continue;return{value:c.arg,done:r.done}}"throw"===c.type&&(n=h,r.method="throw",r.arg=c.arg)}}}(t,r,s),a}function l(t,e,r){try{return{type:"normal",arg:t.call(e,r)}}catch(t){return{type:"throw",arg:t}}}t.wrap=u;var d="suspendedStart",f="suspendedYield",p="executing",h="completed",m={};function g(){}function v(){}function y(){}var x={};x[a]=function(){return this};var b=Object.getPrototypeOf,w=b&&b(b(k([])));w&&w!==r&&n.call(w,a)&&(x=w);var S=y.prototype=g.prototype=Object.create(x);function C(t){["next","throw","return"].forEach((function(e){c(t,e,(function(t){return this._invoke(e,t)}))}))}function L(t,e){function r(o,a,s,i){var c=l(t[o],t,a);if("throw"!==c.type){var u=c.arg,d=u.value;return d&&"object"==typeof d&&n.call(d,"__await")?e.resolve(d.__await).then((function(t){r("next",t,s,i)}),(function(t){r("throw",t,s,i)})):e.resolve(d).then((function(t){u.value=t,s(u)}),(function(t){return r("throw",t,s,i)}))}i(c.arg)}var o;this._invoke=function(t,n){function a(){return new e((function(e,o){r(t,n,e,o)}))}return o=o?o.then(a,a):a()}}function E(t,r){var n=t.iterator[r.method];if(n===e){if(r.delegate=null,"throw"===r.method){if(t.iterator.return&&(r.method="return",r.arg=e,E(t,r),"throw"===r.method))return m;r.method="throw",r.arg=new TypeError("The iterator does not provide a 'throw' method")}return m}var o=l(n,t.iterator,r.arg);if("throw"===o.type)return r.method="throw",r.arg=o.arg,r.delegate=null,m;var a=o.arg;return a?a.done?(r[t.resultName]=a.value,r.next=t.nextLoc,"return"!==r.method&&(r.method="next",r.arg=e),r.delegate=null,m):a:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,m)}function T(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function j(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function R(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(T,this),this.reset(!0)}function k(t){if(t){var r=t[a];if(r)return r.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var o=-1,s=function r(){for(;++o<t.length;)if(n.call(t,o))return r.value=t[o],r.done=!1,r;return r.value=e,r.done=!0,r};return s.next=s}}return{next:O}}function O(){return{value:e,done:!0}}return v.prototype=S.constructor=y,y.constructor=v,v.displayName=c(y,i,"GeneratorFunction"),t.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===v||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,y):(t.__proto__=y,c(t,i,"GeneratorFunction")),t.prototype=Object.create(S),t},t.awrap=function(t){return{__await:t}},C(L.prototype),L.prototype[s]=function(){return this},t.AsyncIterator=L,t.async=function(e,r,n,o,a){void 0===a&&(a=Promise);var s=new L(u(e,r,n,o),a);return t.isGeneratorFunction(r)?s:s.next().then((function(t){return t.done?t.value:s.next()}))},C(S),c(S,i,"Generator"),S[a]=function(){return this},S.toString=function(){return"[object Generator]"},t.keys=function(t){var e=[];for(var r in t)e.push(r);return e.reverse(),function r(){for(;e.length;){var n=e.pop();if(n in t)return r.value=n,r.done=!1,r}return r.done=!0,r}},t.values=k,R.prototype={constructor:R,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(j),!t)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=e)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var r=this;function o(n,o){return i.type="throw",i.arg=t,r.next=n,o&&(r.method="next",r.arg=e),!!o}for(var a=this.tryEntries.length-1;a>=0;--a){var s=this.tryEntries[a],i=s.completion;if("root"===s.tryLoc)return o("end");if(s.tryLoc<=this.prev){var c=n.call(s,"catchLoc"),u=n.call(s,"finallyLoc");if(c&&u){if(this.prev<s.catchLoc)return o(s.catchLoc,!0);if(this.prev<s.finallyLoc)return o(s.finallyLoc)}else if(c){if(this.prev<s.catchLoc)return o(s.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<s.finallyLoc)return o(s.finallyLoc)}}}},abrupt:function(t,e){for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var a=o;break}}a&&("break"===t||"continue"===t)&&a.tryLoc<=e&&e<=a.finallyLoc&&(a=null);var s=a?a.completion:{};return s.type=t,s.arg=e,a?(this.method="next",this.next=a.finallyLoc,m):this.complete(s)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),m},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),j(r),m}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.tryLoc===t){var n=r.completion;if("throw"===n.type){var o=n.arg;j(r)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(t,r,n){return this.delegate={iterator:k(t),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=e),m}},t}({});try{regeneratorRuntime=d}catch(t){Function("r","regeneratorRuntime = r")(d)}var f;l.register("5QrKC",(function(t,e){"use strict";var r=l("3goRB"),n=l("6ld9I"),o=l("2hRYD"),a=l("34G5L");function s(t){var e=new o(t),a=n(o.prototype.request,e);return r.extend(a,o.prototype,e),r.extend(a,e),a}var i=s(l("1wAwi"));i.Axios=o,i.create=function(t){return s(a(i.defaults,t))},i.Cancel=l("zqAv2"),i.CancelToken=l("5PjJD"),i.isCancel=l("523ey"),i.all=function(t){return Promise.all(t)},i.spread=l("2lmSS"),i.isAxiosError=l("4jZZW"),t.exports=i,t.exports.default=i})),l.register("3goRB",(function(t,e){"use strict";var r=l("6ld9I"),n=Object.prototype.toString;function o(t){return"[object Array]"===n.call(t)}function a(t){return void 0===t}function s(t){return null!==t&&"object"==typeof t}function i(t){if("[object Object]"!==n.call(t))return!1;var e=Object.getPrototypeOf(t);return null===e||e===Object.prototype}function c(t){return"[object Function]"===n.call(t)}function u(t,e){if(null!=t)if("object"!=typeof t&&(t=[t]),o(t))for(var r=0,n=t.length;r<n;r++)e.call(null,t[r],r,t);else for(var a in t)Object.prototype.hasOwnProperty.call(t,a)&&e.call(null,t[a],a,t)}t.exports={isArray:o,isArrayBuffer:function(t){return"[object ArrayBuffer]"===n.call(t)},isBuffer:function(t){return null!==t&&!a(t)&&null!==t.constructor&&!a(t.constructor)&&"function"==typeof t.constructor.isBuffer&&t.constructor.isBuffer(t)},isFormData:function(t){return"undefined"!=typeof FormData&&t instanceof FormData},isArrayBufferView:function(t){return"undefined"!=typeof ArrayBuffer&&ArrayBuffer.isView?ArrayBuffer.isView(t):t&&t.buffer&&t.buffer instanceof ArrayBuffer},isString:function(t){return"string"==typeof t},isNumber:function(t){return"number"==typeof t},isObject:s,isPlainObject:i,isUndefined:a,isDate:function(t){return"[object Date]"===n.call(t)},isFile:function(t){return"[object File]"===n.call(t)},isBlob:function(t){return"[object Blob]"===n.call(t)},isFunction:c,isStream:function(t){return s(t)&&c(t.pipe)},isURLSearchParams:function(t){return"undefined"!=typeof URLSearchParams&&t instanceof URLSearchParams},isStandardBrowserEnv:function(){return("undefined"==typeof navigator||"ReactNative"!==navigator.product&&"NativeScript"!==navigator.product&&"NS"!==navigator.product)&&("undefined"!=typeof window&&"undefined"!=typeof document)},forEach:u,merge:function t(){var e={};function r(r,n){i(e[n])&&i(r)?e[n]=t(e[n],r):i(r)?e[n]=t({},r):o(r)?e[n]=r.slice():e[n]=r}for(var n=0,a=arguments.length;n<a;n++)u(arguments[n],r);return e},extend:function(t,e,n){return u(e,(function(e,o){t[o]=n&&"function"==typeof e?r(e,n):e})),t},trim:function(t){return t.replace(/^\s*/,"").replace(/\s*$/,"")},stripBOM:function(t){return 65279===t.charCodeAt(0)&&(t=t.slice(1)),t}}})),l.register("6ld9I",(function(t,e){"use strict";t.exports=function(t,e){return function(){for(var r=new Array(arguments.length),n=0;n<r.length;n++)r[n]=arguments[n];return t.apply(e,r)}}})),l.register("2hRYD",(function(t,e){"use strict";var r=l("3goRB"),n=l("4faVe"),o=l("7jfM1"),a=l("4QTXa"),s=l("34G5L");function i(t){this.defaults=t,this.interceptors={request:new o,response:new o}}i.prototype.request=function(t){"string"==typeof t?(t=arguments[1]||{}).url=arguments[0]:t=t||{},(t=s(this.defaults,t)).method?t.method=t.method.toLowerCase():this.defaults.method?t.method=this.defaults.method.toLowerCase():t.method="get";var e=[a,void 0],r=Promise.resolve(t);for(this.interceptors.request.forEach((function(t){e.unshift(t.fulfilled,t.rejected)})),this.interceptors.response.forEach((function(t){e.push(t.fulfilled,t.rejected)}));e.length;)r=r.then(e.shift(),e.shift());return r},i.prototype.getUri=function(t){return t=s(this.defaults,t),n(t.url,t.params,t.paramsSerializer).replace(/^\?/,"")},r.forEach(["delete","get","head","options"],(function(t){i.prototype[t]=function(e,r){return this.request(s(r||{},{method:t,url:e,data:(r||{}).data}))}})),r.forEach(["post","put","patch"],(function(t){i.prototype[t]=function(e,r,n){return this.request(s(n||{},{method:t,url:e,data:r}))}})),t.exports=i})),l.register("4faVe",(function(t,e){"use strict";var r=l("3goRB");function n(t){return encodeURIComponent(t).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}t.exports=function(t,e,o){if(!e)return t;var a;if(o)a=o(e);else if(r.isURLSearchParams(e))a=e.toString();else{var s=[];r.forEach(e,(function(t,e){null!=t&&(r.isArray(t)?e+="[]":t=[t],r.forEach(t,(function(t){r.isDate(t)?t=t.toISOString():r.isObject(t)&&(t=JSON.stringify(t)),s.push(n(e)+"="+n(t))})))})),a=s.join("&")}if(a){var i=t.indexOf("#");-1!==i&&(t=t.slice(0,i)),t+=(-1===t.indexOf("?")?"?":"&")+a}return t}})),l.register("7jfM1",(function(t,e){"use strict";var r=l("3goRB");function n(){this.handlers=[]}n.prototype.use=function(t,e){return this.handlers.push({fulfilled:t,rejected:e}),this.handlers.length-1},n.prototype.eject=function(t){this.handlers[t]&&(this.handlers[t]=null)},n.prototype.forEach=function(t){r.forEach(this.handlers,(function(e){null!==e&&t(e)}))},t.exports=n})),l.register("4QTXa",(function(t,e){"use strict";var r=l("3goRB"),n=l("jLYt5"),o=l("523ey"),a=l("1wAwi");function s(t){t.cancelToken&&t.cancelToken.throwIfRequested()}t.exports=function(t){return s(t),t.headers=t.headers||{},t.data=n(t.data,t.headers,t.transformRequest),t.headers=r.merge(t.headers.common||{},t.headers[t.method]||{},t.headers),r.forEach(["delete","get","head","post","put","patch","common"],(function(e){delete t.headers[e]})),(t.adapter||a.adapter)(t).then((function(e){return s(t),e.data=n(e.data,e.headers,t.transformResponse),e}),(function(e){return o(e)||(s(t),e&&e.response&&(e.response.data=n(e.response.data,e.response.headers,t.transformResponse))),Promise.reject(e)}))}})),l.register("jLYt5",(function(t,e){"use strict";var r=l("3goRB");t.exports=function(t,e,n){return r.forEach(n,(function(r){t=r(t,e)})),t}})),l.register("523ey",(function(t,e){"use strict";t.exports=function(t){return!(!t||!t.__CANCEL__)}})),l.register("1wAwi",(function(t,e){"use strict";var r=l("3goRB"),n=l("29Qkq"),o={"Content-Type":"application/x-www-form-urlencoded"};function a(t,e){!r.isUndefined(t)&&r.isUndefined(t["Content-Type"])&&(t["Content-Type"]=e)}var s,i={adapter:("undefined"!=typeof XMLHttpRequest?s=l("1e4Vx"):"undefined"!=typeof process&&"[object process]"===Object.prototype.toString.call(process)&&(s=l("6G5Re")),s),transformRequest:[function(t,e){return n(e,"Accept"),n(e,"Content-Type"),r.isFormData(t)||r.isArrayBuffer(t)||r.isBuffer(t)||r.isStream(t)||r.isFile(t)||r.isBlob(t)?t:r.isArrayBufferView(t)?t.buffer:r.isURLSearchParams(t)?(a(e,"application/x-www-form-urlencoded;charset=utf-8"),t.toString()):r.isObject(t)?(a(e,"application/json;charset=utf-8"),JSON.stringify(t)):t}],transformResponse:[function(t){if("string"==typeof t)try{t=JSON.parse(t)}catch(t){}return t}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,validateStatus:function(t){return t>=200&&t<300}};i.headers={common:{Accept:"application/json, text/plain, */*"}},r.forEach(["delete","get","head"],(function(t){i.headers[t]={}})),r.forEach(["post","put","patch"],(function(t){i.headers[t]=r.merge(o)})),t.exports=i})),l.register("29Qkq",(function(t,e){"use strict";var r=l("3goRB");t.exports=function(t,e){r.forEach(t,(function(r,n){n!==e&&n.toUpperCase()===e.toUpperCase()&&(t[e]=r,delete t[n])}))}})),l.register("1e4Vx",(function(t,e){"use strict";var r=l("3goRB"),n=l("2HOYZ"),o=l("3nCon"),a=l("4faVe"),s=l("v2wsa"),i=l("19pH2"),c=l("N2eLc"),u=l("5DTNn");t.exports=function(t){return new Promise((function(e,l){var d=t.data,f=t.headers;r.isFormData(d)&&delete f["Content-Type"];var p=new XMLHttpRequest;if(t.auth){var h=t.auth.username||"",m=t.auth.password?unescape(encodeURIComponent(t.auth.password)):"";f.Authorization="Basic "+btoa(h+":"+m)}var g=s(t.baseURL,t.url);if(p.open(t.method.toUpperCase(),a(g,t.params,t.paramsSerializer),!0),p.timeout=t.timeout,p.onreadystatechange=function(){if(p&&4===p.readyState&&(0!==p.status||p.responseURL&&0===p.responseURL.indexOf("file:"))){var r="getAllResponseHeaders"in p?i(p.getAllResponseHeaders()):null,o={data:t.responseType&&"text"!==t.responseType?p.response:p.responseText,status:p.status,statusText:p.statusText,headers:r,config:t,request:p};n(e,l,o),p=null}},p.onabort=function(){p&&(l(u("Request aborted",t,"ECONNABORTED",p)),p=null)},p.onerror=function(){l(u("Network Error",t,null,p)),p=null},p.ontimeout=function(){var e="timeout of "+t.timeout+"ms exceeded";t.timeoutErrorMessage&&(e=t.timeoutErrorMessage),l(u(e,t,"ECONNABORTED",p)),p=null},r.isStandardBrowserEnv()){var v=(t.withCredentials||c(g))&&t.xsrfCookieName?o.read(t.xsrfCookieName):void 0;v&&(f[t.xsrfHeaderName]=v)}if("setRequestHeader"in p&&r.forEach(f,(function(t,e){void 0===d&&"content-type"===e.toLowerCase()?delete f[e]:p.setRequestHeader(e,t)})),r.isUndefined(t.withCredentials)||(p.withCredentials=!!t.withCredentials),t.responseType)try{p.responseType=t.responseType}catch(e){if("json"!==t.responseType)throw e}"function"==typeof t.onDownloadProgress&&p.addEventListener("progress",t.onDownloadProgress),"function"==typeof t.onUploadProgress&&p.upload&&p.upload.addEventListener("progress",t.onUploadProgress),t.cancelToken&&t.cancelToken.promise.then((function(t){p&&(p.abort(),l(t),p=null)})),d||(d=null),p.send(d)}))}})),l.register("2HOYZ",(function(t,e){"use strict";var r=l("5DTNn");t.exports=function(t,e,n){var o=n.config.validateStatus;n.status&&o&&!o(n.status)?e(r("Request failed with status code "+n.status,n.config,null,n.request,n)):t(n)}})),l.register("5DTNn",(function(t,e){"use strict";var r=l("1aui5");t.exports=function(t,e,n,o,a){var s=new Error(t);return r(s,e,n,o,a)}})),l.register("1aui5",(function(t,e){"use strict";t.exports=function(t,e,r,n,o){return t.config=e,r&&(t.code=r),t.request=n,t.response=o,t.isAxiosError=!0,t.toJSON=function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:this.config,code:this.code}},t}})),l.register("3nCon",(function(t,e){"use strict";var r=l("3goRB");t.exports=r.isStandardBrowserEnv()?{write:function(t,e,n,o,a,s){var i=[];i.push(t+"="+encodeURIComponent(e)),r.isNumber(n)&&i.push("expires="+new Date(n).toGMTString()),r.isString(o)&&i.push("path="+o),r.isString(a)&&i.push("domain="+a),!0===s&&i.push("secure"),document.cookie=i.join("; ")},read:function(t){var e=document.cookie.match(new RegExp("(^|;\\s*)("+t+")=([^;]*)"));return e?decodeURIComponent(e[3]):null},remove:function(t){this.write(t,"",Date.now()-864e5)}}:{write:function(){},read:function(){return null},remove:function(){}}})),l.register("v2wsa",(function(t,e){"use strict";var r=l("5qosZ"),n=l("7mzSt");t.exports=function(t,e){return t&&!r(e)?n(t,e):e}})),l.register("5qosZ",(function(t,e){"use strict";t.exports=function(t){return/^([a-z][a-z\d\+\-\.]*:)?\/\//i.test(t)}})),l.register("7mzSt",(function(t,e){"use strict";t.exports=function(t,e){return e?t.replace(/\/+$/,"")+"/"+e.replace(/^\/+/,""):t}})),l.register("19pH2",(function(t,e){"use strict";var r=l("3goRB"),n=["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"];t.exports=function(t){var e,o,a,s={};return t?(r.forEach(t.split("\n"),(function(t){if(a=t.indexOf(":"),e=r.trim(t.substr(0,a)).toLowerCase(),o=r.trim(t.substr(a+1)),e){if(s[e]&&n.indexOf(e)>=0)return;s[e]="set-cookie"===e?(s[e]?s[e]:[]).concat([o]):s[e]?s[e]+", "+o:o}})),s):s}})),l.register("N2eLc",(function(t,e){"use strict";var r=l("3goRB");t.exports=r.isStandardBrowserEnv()?function(){var t,e=/(msie|trident)/i.test(navigator.userAgent),n=document.createElement("a");function o(t){var r=t;return e&&(n.setAttribute("href",r),r=n.href),n.setAttribute("href",r),{href:n.href,protocol:n.protocol?n.protocol.replace(/:$/,""):"",host:n.host,search:n.search?n.search.replace(/^\?/,""):"",hash:n.hash?n.hash.replace(/^#/,""):"",hostname:n.hostname,port:n.port,pathname:"/"===n.pathname.charAt(0)?n.pathname:"/"+n.pathname}}return t=o(window.location.href),function(e){var n=r.isString(e)?o(e):e;return n.protocol===t.protocol&&n.host===t.host}}():function(){return!0}})),l.register("6G5Re",(function(s,i){"use strict";var c=l("3goRB"),u=l("2HOYZ"),d=l("v2wsa"),f=l("4faVe"),p=n,h=r,m=l("7mcEC"),g=l("5DTNn"),v=l("1aui5"),y=/https:?/;function x(t,e,r){if(t.hostname=e.host,t.host=e.host,t.port=e.port,t.path=r,e.auth){var n=Buffer.from(e.auth.username+":"+e.auth.password,"utf8").toString("base64");t.headers["Proxy-Authorization"]="Basic "+n}t.beforeRedirect=function(t){t.headers.host=t.host,x(t,e,t.href)}}s.exports=function(r){return new Promise((function(n,s){var i=function(t){n(t)},l=function(t){s(t)},b=r.data,w=r.headers;if(w["User-Agent"]||w["user-agent"]||(w["User-Agent"]="axios/"+m.version),b&&!c.isStream(b)){if(Buffer.isBuffer(b));else if(c.isArrayBuffer(b))b=Buffer.from(new Uint8Array(b));else{if(!c.isString(b))return l(g("Data after transformation must be a string, an ArrayBuffer, a Buffer, or a Stream",r));b=Buffer.from(b,"utf-8")}w["Content-Length"]=b.length}var S=void 0;r.auth&&(S=(r.auth.username||"")+":"+(r.auth.password||""));var C=d(r.baseURL,r.url),L=o(C),E=L.protocol||"http:";if(!S&&L.auth){var T=L.auth.split(":");S=(T[0]||"")+":"+(T[1]||"")}S&&delete w.Authorization;var j=y.test(E),R=j?r.httpsAgent:r.httpAgent,k={path:f(L.path,r.params,r.paramsSerializer).replace(/^\?/,""),method:r.method.toUpperCase(),headers:w,agent:R,agents:{http:r.httpAgent,https:r.httpsAgent},auth:S};r.socketPath?k.socketPath=r.socketPath:(k.hostname=L.hostname,k.port=L.port);var O,$=r.proxy;if(!$&&!1!==$){var N=E.slice(0,-1)+"_proxy",_=process.env[N]||process.env[N.toUpperCase()];if(_){var A=o(_),q=process.env.no_proxy||process.env.NO_PROXY,B=!0;if(q)B=!q.split(",").map((function(t){return t.trim()})).some((function(t){return!!t&&("*"===t||("."===t[0]&&L.hostname.substr(L.hostname.length-t.length)===t||L.hostname===t))}));if(B&&($={host:A.hostname,port:A.port,protocol:A.protocol},A.auth)){var P=A.auth.split(":");$.auth={username:P[0],password:P[1]}}}}$&&(k.headers.host=L.hostname+(L.port?":"+L.port:""),x(k,$,E+"//"+L.hostname+(L.port?":"+L.port:"")+k.path));var F=j&&(!$||y.test($.protocol));r.transport?O=r.transport:0===r.maxRedirects?O=F?e:t:(r.maxRedirects&&(k.maxRedirects=r.maxRedirects),O=F?h:p),r.maxBodyLength>-1&&(k.maxBodyLength=r.maxBodyLength);var I=O.request(k,(function(t){if(!I.aborted){var e=t,n=t.req||I;if(204!==t.statusCode&&"HEAD"!==n.method&&!1!==r.decompress)switch(t.headers["content-encoding"]){case"gzip":case"compress":case"deflate":e=e.pipe(a()),delete t.headers["content-encoding"]}var o={status:t.statusCode,statusText:t.statusMessage,headers:t.headers,config:r,request:n};if("stream"===r.responseType)o.data=e,u(i,l,o);else{var s=[];e.on("data",(function(t){s.push(t),r.maxContentLength>-1&&Buffer.concat(s).length>r.maxContentLength&&(e.destroy(),l(g("maxContentLength size of "+r.maxContentLength+" exceeded",r,null,n)))})),e.on("error",(function(t){I.aborted||l(v(t,r,null,n))})),e.on("end",(function(){var t=Buffer.concat(s);"arraybuffer"!==r.responseType&&(t=t.toString(r.responseEncoding),r.responseEncoding&&"utf8"!==r.responseEncoding||(t=c.stripBOM(t))),o.data=t,u(i,l,o)}))}}}));I.on("error",(function(t){I.aborted&&"ERR_FR_TOO_MANY_REDIRECTS"!==t.code||l(v(t,r,null,I))})),r.timeout&&I.setTimeout(r.timeout,(function(){I.abort(),l(g("timeout of "+r.timeout+"ms exceeded",r,"ECONNABORTED",I))})),r.cancelToken&&r.cancelToken.promise.then((function(t){I.aborted||(I.abort(),l(t))})),c.isStream(b)?b.on("error",(function(t){l(v(t,r,null,I))})).pipe(I):I.end(b)}))}})),l.register("7mcEC",(function(t,e){t.exports=JSON.parse('{"_from":"axios@^0.21.1","_id":"axios@0.21.1","_inBundle":false,"_integrity":"sha512-dKQiRHxGD9PPRIUNIWvZhPTPpl1rf/OxTYKsqKUDjBwYylTvV7SjSHJb9ratfyzM6wCdLCOYLzs73qpg5c4iGA==","_location":"/axios","_phantomChildren":{},"_requested":{"type":"range","registry":true,"raw":"axios@^0.21.1","name":"axios","escapedName":"axios","rawSpec":"^0.21.1","saveSpec":null,"fetchSpec":"^0.21.1"},"_requiredBy":["#USER","/"],"_resolved":"https://registry.npmjs.org/axios/-/axios-0.21.1.tgz","_shasum":"22563481962f4d6bde9a76d516ef0e5d3c09b2b8","_spec":"axios@^0.21.1","_where":"C:\\\\Users\\\\ascon\\\\Desktop\\\\Projects\\\\commercio","author":{"name":"Matt Zabriskie"},"browser":{"./lib/adapters/http.js":"./lib/adapters/xhr.js"},"bugs":{"url":"https://github.com/axios/axios/issues"},"bundleDependencies":false,"bundlesize":[{"path":"./dist/axios.min.js","threshold":"5kB"}],"dependencies":{"follow-redirects":"^1.10.0"},"deprecated":false,"description":"Promise based HTTP client for the browser and node.js","devDependencies":{"bundlesize":"^0.17.0","coveralls":"^3.0.0","es6-promise":"^4.2.4","grunt":"^1.0.2","grunt-banner":"^0.6.0","grunt-cli":"^1.2.0","grunt-contrib-clean":"^1.1.0","grunt-contrib-watch":"^1.0.0","grunt-eslint":"^20.1.0","grunt-karma":"^2.0.0","grunt-mocha-test":"^0.13.3","grunt-ts":"^6.0.0-beta.19","grunt-webpack":"^1.0.18","istanbul-instrumenter-loader":"^1.0.0","jasmine-core":"^2.4.1","karma":"^1.3.0","karma-chrome-launcher":"^2.2.0","karma-coverage":"^1.1.1","karma-firefox-launcher":"^1.1.0","karma-jasmine":"^1.1.1","karma-jasmine-ajax":"^0.1.13","karma-opera-launcher":"^1.0.0","karma-safari-launcher":"^1.0.0","karma-sauce-launcher":"^1.2.0","karma-sinon":"^1.0.5","karma-sourcemap-loader":"^0.3.7","karma-webpack":"^1.7.0","load-grunt-tasks":"^3.5.2","minimist":"^1.2.0","mocha":"^5.2.0","sinon":"^4.5.0","typescript":"^2.8.1","url-search-params":"^0.10.0","webpack":"^1.13.1","webpack-dev-server":"^1.14.1"},"homepage":"https://github.com/axios/axios","jsdelivr":"dist/axios.min.js","keywords":["xhr","http","ajax","promise","node"],"license":"MIT","main":"index.js","name":"axios","repository":{"type":"git","url":"git+https://github.com/axios/axios.git"},"scripts":{"build":"NODE_ENV=production grunt build","coveralls":"cat coverage/lcov.info | ./node_modules/coveralls/bin/coveralls.js","examples":"node ./examples/server.js","fix":"eslint --fix lib/**/*.js","postversion":"git push && git push --tags","preversion":"npm test","start":"node ./sandbox/server.js","test":"grunt test && bundlesize","version":"npm run build && grunt version && git add -A dist && git add CHANGELOG.md bower.json package.json"},"typings":"./index.d.ts","unpkg":"dist/axios.min.js","version":"0.21.1"}')})),l.register("34G5L",(function(t,e){"use strict";var r=l("3goRB");t.exports=function(t,e){e=e||{};var n={},o=["url","method","data"],a=["headers","auth","proxy","params"],s=["baseURL","transformRequest","transformResponse","paramsSerializer","timeout","timeoutMessage","withCredentials","adapter","responseType","xsrfCookieName","xsrfHeaderName","onUploadProgress","onDownloadProgress","decompress","maxContentLength","maxBodyLength","maxRedirects","transport","httpAgent","httpsAgent","cancelToken","socketPath","responseEncoding"],i=["validateStatus"];function c(t,e){return r.isPlainObject(t)&&r.isPlainObject(e)?r.merge(t,e):r.isPlainObject(e)?r.merge({},e):r.isArray(e)?e.slice():e}function u(o){r.isUndefined(e[o])?r.isUndefined(t[o])||(n[o]=c(void 0,t[o])):n[o]=c(t[o],e[o])}r.forEach(o,(function(t){r.isUndefined(e[t])||(n[t]=c(void 0,e[t]))})),r.forEach(a,u),r.forEach(s,(function(o){r.isUndefined(e[o])?r.isUndefined(t[o])||(n[o]=c(void 0,t[o])):n[o]=c(void 0,e[o])})),r.forEach(i,(function(r){r in e?n[r]=c(t[r],e[r]):r in t&&(n[r]=c(void 0,t[r]))}));var l=o.concat(a).concat(s).concat(i),d=Object.keys(t).concat(Object.keys(e)).filter((function(t){return-1===l.indexOf(t)}));return r.forEach(d,u),n}})),l.register("zqAv2",(function(t,e){"use strict";function r(t){this.message=t}r.prototype.toString=function(){return"Cancel"+(this.message?": "+this.message:"")},r.prototype.__CANCEL__=!0,t.exports=r})),l.register("5PjJD",(function(t,e){"use strict";var r=l("zqAv2");function n(t){if("function"!=typeof t)throw new TypeError("executor must be a function.");var e;this.promise=new Promise((function(t){e=t}));var n=this;t((function(t){n.reason||(n.reason=new r(t),e(n.reason))}))}n.prototype.throwIfRequested=function(){if(this.reason)throw this.reason},n.source=function(){var t;return{token:new n((function(e){t=e})),cancel:t}},t.exports=n})),l.register("2lmSS",(function(t,e){"use strict";t.exports=function(t){return function(e){return t.apply(null,e)}}})),l.register("4jZZW",(function(t,e){"use strict";t.exports=function(t){return"object"==typeof t&&!0===t.isAxiosError}})),f=l("5QrKC");const p=async t=>{try{const e=await s(f).post("/api/v1/stores",t);"success"===e.data.status&&(window.location.href=`${window.location.origin}/${e.data.data.slug}/dashboard`)}catch(t){console.error(t)}},h=(t,e,r)=>{const n=`\n  <div class="alert alert-${"success"===t?"success":"danger"} alert-dismissible fade show" role="alert">\n  <span class="fw-medium">${"success"===t?"PRO TIP":t.toUpperCase()} :</span> ${e}\n  <button type="button" class="btn-close" data-bs-dismiss="alert" aria-label="Close"></button>\n</div>\n  `;document.querySelector(`.${r}`).insertAdjacentHTML("afterbegin",n)},m={hasNotSpan:!0,originalHTML:""},g=(t,e,r)=>{const n=`<span class="spinner-border spinner-border-sm me-2" role="status" aria-hidden="true"></span>\n  ${r}`,o=document.querySelector(`.${t}`);m.hasNotSpan&&(m.originalHTML=o.innerHTML,m.hasNotSpan=!1),o.innerHTML="render"===e?n:m.originalHTML},v=async t=>{try{g("productBtn","render","Uploading...");if("success"===(await s(f).post("/api/v1/products",t)).data.status){const t=window.location.pathname.split("/");window.location.href=`${window.location.origin}/${t[1]}/dashboard/products`}}catch(t){h("error","Product not uploaded","productForm"),h("error",t.message,"productForm"),console.error(t)}},y=document.querySelectorAll(".cartQty"),x=document.querySelector(".cartContainer"),b=document.querySelector(".itemContainer"),w=document.querySelector(".cartSubtotal"),S=document.querySelector(".myCartSubtotal"),C=document.querySelector(".cartPageSubtotal"),L=document.querySelector(".itemQty"),E=document.querySelector(".cartTotal");const T=new class{constructor(){this.items=[],this.total=0,this.itemQuantity=0}addToCart(t){const e=JSON.parse(t.dataset.product),r=JSON.parse(t.dataset.store);this.itemQuantity++,this.checkForDuplicates(e.title)||(e.orderQuantity=+(null==L?void 0:L.value)||1,e.storeName=r.storeName,e.storeSlug=r.slug,this.items.push(e),this._calcTotals(),this.renderCartIcon())}renderCartIcon(){x.innerHTML="",this.items.forEach((t=>{const e=this._createItemHTML(t);x.insertAdjacentHTML("afterbegin",e)})),y.forEach((t=>t.textContent=this.itemQuantity)),S.innerHTML=`<small>My Cart</small>$${this.total}`,w.textContent=`$${this.total.toFixed(2)}`,E.textContent=`$${this.total.toFixed(2)}`,this._addListenersRemoveBtns(),this.saveToLocalStorage()}renderCartPage(){b.innerHTML="",this.items.forEach((t=>{const e=this._createCartPageHTML(t);b.insertAdjacentHTML("afterbegin",e)})),C.textContent=`$${this.total.toFixed(2)}`,E.textContent=`$${this.total.toFixed(2)}`,this._addListenersRemoveBtns(),this.saveToLocalStorage()}updateCart(){const t=document.querySelectorAll(".cartItem");g("updateCart","render","Updating Cart..."),t.forEach((t=>{this.items.find((e=>e.title===t.dataset.title)).orderQuantity=+t.value})),this._calcTotals(),this.renderCartIcon(),this.renderCartPage(),setTimeout((()=>g("updateCart","remove")),2e3)}handleRemoveFromCart(t){const e=this.items.findIndex((e=>e.title===t.target.dataset.title));this.items.splice(e,1),this._calcTotals(),this.renderCartIcon(),C&&this.renderCartPage()}_addListenersRemoveBtns(){document.querySelectorAll(".removeItem").forEach((t=>{t.addEventListener("click",this.handleRemoveFromCart.bind(this))}))}_calcTotals(){return this.total=0,this.itemQuantity=0,this.items.forEach((t=>{this.total+=t.price*t.orderQuantity,this.itemQuantity+=t.orderQuantity})),this}checkForDuplicates(t){if(!this.items.length)return!1;const e=this.items.find((e=>e.title===t));return e&&(e.orderQuantity+=+(null==L?void 0:L.value)||1),this._calcTotals(),this.renderCartIcon(),e}saveToLocalStorage(){localStorage.setItem("items",JSON.stringify(this.items)),localStorage.setItem("total",JSON.stringify(this.total)),localStorage.setItem("itemQuantity",JSON.stringify(this.itemQuantity))}init(){const t=localStorage.getItem("items"),e=localStorage.getItem("total"),r=localStorage.getItem("itemQuantity");t&&(this.items=JSON.parse(t),this.total=JSON.parse(e),this.itemQuantity=JSON.parse(r),this.renderCartIcon())}_createItemHTML(t){return`<div class="widget-cart-item py-2 border-bottom"><button class="btn-close text-danger" type="button" aria-label="Remove"><span class="removeItem" data-title="${t.title}" aria-hidden="true">&times;</span></button>\n    <div class="d-flex align-items-center"><a class="flex-shrink-0" href="/${t.storeSlug}/products/${t.slug}"><img src="${t.images[0]}" width="64" alt="${t.title}" /></a>\n        <div class="ps-2">\n            <h6 class="widget-product-title"><a href="shop-single-v1.html">${t.title}</a></h6>\n            <div class="widget-product-meta"><span class="text-accent me-2">$${t.price}.<small>00</small></span><span class="text-muted">x ${t.orderQuantity}</span></div>\n        </div>\n    </div>\n</div>`}_createCartPageHTML(t){return`<div class="d-sm-flex justify-content-between align-items-center my-2 pb-3 border-bottom">\n    <div class="d-block d-sm-flex align-items-center text-center text-sm-start"><a class="d-inline-block flex-shrink-0 mx-auto me-sm-4" href="/${t.storeSlug}/products/${t.slug}"><img src="${t.images[0]}" width="160" alt="${t.title}" /></a>\n        <div class="pt-2">\n            <h3 class="product-title fs-base mb-2"><a href="/${t.storeSlug}/products/${t.slug}">${t.title}</a></h3>\n            <div class="fs-sm"><span class="text-muted me-2">Sold by:</span>${t.storeName}</div>\n            <div class="fs-lg text-accent pt-2">$${t.price}<small></small></div>\n        </div>\n    </div>\n    <div class="pt-2 pt-sm-0 ps-sm-3 mx-auto mx-sm-0 text-center text-sm-start" style="max-width: 9rem;"><label class="form-label" for="quantity2">Quantity</label><input class="form-control cartItem" data-title="${t.title}" id="quantity2" type="number" min="1" value="${t.orderQuantity}" /><button class="removeItem btn btn-link px-0 text-danger"  data-title="${t.title}" type="button"><i class="ci-close-circle me-2"></i><span class="fs-sm">Remove</span></button></div>\n</div>`}};x&&T.init(),b&&T.renderCartPage();const j=document.querySelector(".productContainer"),R=document.querySelector(".orderTotal"),k=document.querySelector(".orderSubtotal"),O=document.querySelector(".productContainerSummary");let $=100*Math.random();const N=new class{constructor(){this.subTotal=0,this.shippingFee=0,this.total=this.subTotal+this.shippingFee}renderOrderSummary(){h("success","Simply ignore the form. It'll still work","insertAlert"),T.items.forEach((t=>{const e=this._createItemHTML(t);j.insertAdjacentHTML("afterbegin",e)})),this._calcTotals(),k.textContent=`$${this.subTotal.toFixed(2)}`,R.textContent=`$${this.total.toFixed(2)}`}renderFinalOrderInfo(){T.items.forEach((t=>{const e=this._createItemHTMLFinal(t);O.insertAdjacentHTML("afterend",e)})),this._calcTotals(),k.textContent=`$${this.subTotal.toFixed(2)}`,R.textContent=`$${this.total.toFixed(2)}`}_calcTotals(){this.subTotal=T.total,this.total=this.subTotal+this.shippingFee}_paymentComplete(){T.items=[],T.total=0,T.itemQuantity=0,T.renderCartIcon(),window.location.href=`${window.location.origin}/order/complete`}_paymentCancelled(){window.location.href=`${window.location.origin}/order-summary`}payWithPaystack(){const t="eyacquah0@gmail.com",e=`customer-${t.split("@")[0]}-${$}`;$++,console.log(this);PaystackPop.setup({key:"pk_test_9f328d76a6430333ed4c80826620ec2120e0dc69",email:t,amount:600*T.total,currency:"GHS",ref:e,metadata:T,callback:this._paymentComplete,onClose:this._paymentCancelled}).openIframe()}_createItemHTMLFinal(t){return`<div class="d-sm-flex justify-content-between my-4 pb-3 border-bottom">\n    <div class="d-sm-flex text-center text-sm-start"><a class="d-inline-block flex-shrink-0 mx-auto me-sm-4" href=/${t.storeSlug}/products/${t.slug}"><img src="${t.images[0]}" width="160" alt="${t.title}" /></a>\n        <div class="pt-2">\n            <h3 class="product-title fs-base mb-2"><a href="/${t.storeSlug}/products/${t.slug}">${t.title}</a></h3>\n            <div class="fs-sm"><span class="text-muted me-2">Sold By:</span>${t.storeName}</div>\n            <div class="fs-lg text-accent pt-2">$${t.price.toFixed(0)}<small></small></div>\n        </div>\n    </div>\n    <div class="pt-2 pt-sm-0 ps-sm-3 mx-auto mx-sm-0 text-center text-sm-end" style="max-width: 9rem;">\n        <p class="mb-0"><span class="text-muted fs-sm">Quantity:</span><span>&nbsp;${t.orderQuantity}</span></p><a class="btn btn-link px-0" type="button" href="/cart"><i class="ci-edit me-2"></i><span class="fs-sm">Edit</span></a>\n    </div>\n</div>`}_createItemHTML(t){return`<div class="d-flex align-items-center py-2 border-bottom"><a class="d-block flex-shrink-0" href="/${t.storeSlug}/products/${t.slug}"><img src="${t.images[0]}" width="64" alt="${t.title}" /></a>\n    <div class="ps-2">\n        <h6 class="widget-product-title"><a href="/${t.storeSlug}/products/${t.slug}">${t.title}</a></h6>\n        <div class="widget-product-meta"><span class="text-accent me-2">${t.price.toFixed(2)}<small></small></span><span class="text-muted">x ${t.orderQuantity}</span></div>\n    </div>\n</div>`}};O&&N.renderFinalOrderInfo();const _=document.querySelector(".storeForm"),A=document.querySelector(".productForm"),q=document.querySelectorAll(".addToCart"),B=document.querySelector(".updateCart"),P=document.querySelector(".productContainer"),F=document.querySelectorAll(".completeOrder");function I(t){t.preventDefault(),T.addToCart(this)}function U(t){N.payWithPaystack()}_&&_.addEventListener("submit",(function(t){t.preventDefault(),(async t=>{var e;console.log("Form recieved.");const r=new FormData;r.append("storeName",t.name.value.trim()),r.append("description",t.description.value.trim()),r.append("phoneNumber",t.phone.value.trim()),r.append("storeOwner",t.dataset.userid);const n=null===(e=document.querySelector(".file-drop-input"))||void 0===e?void 0:e.files;r.append("image",n[0]),await p(r)})(this)})),A&&A.addEventListener("submit",(function(t){t.preventDefault(),(async t=>{var e;const r=new FormData;if(!t.title.value||!t.description.value||!t.price.value)return h("error","You must fill all required fields of this form","productForm");r.append("title",t.title.value),r.append("description",t.description.value),r.append("price",t.price.value),r.append("store",t.dataset.storeId);const n=null===(e=document.querySelector(".images"))||void 0===e?void 0:e.files;if(0===n.length||n.length>3)return h("error","You must upload at least one image or not more than three images","productForm");for(let t=0;t<n.length;t++)r.append("images",n[t]);await v(r)})(this)})),q&&q.forEach((t=>t.addEventListener("click",I))),B&&B.addEventListener("click",(function(t){t.preventDefault(),T.updateCart()})),P&&N.renderOrderSummary(),F&&F.forEach((t=>t.addEventListener("click",U)));
//# sourceMappingURL=bundle.js.map
